# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä—É–ø–ø–∞–º–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## üìã –û–±–∑–æ—Ä

–ú–æ–¥—É–ª—å —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É –ø—É–±–ª–∏–∫–∞—Ü–∏–π, –¥–æ–±–∞–≤–ª—è—è:
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –®–∞–±–ª–æ–Ω—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
- –ì–∏–±–∫–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –ø—É–±–ª–∏–∫–∞—Ü–∏–π

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π

```
app/
‚îú‚îÄ‚îÄ Modules/
‚îÇ   ‚îî‚îÄ‚îÄ ContentGroups/
‚îÇ       ‚îú‚îÄ‚îÄ Controllers/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ GroupController.php
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ TemplateController.php
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ SmartScheduleController.php
‚îÇ       ‚îú‚îÄ‚îÄ Services/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ GroupService.php
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ TemplateService.php
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ SmartQueueService.php
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ScheduleEngineService.php
‚îÇ       ‚îú‚îÄ‚îÄ Repositories/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ContentGroupRepository.php
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ContentGroupFileRepository.php
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ PublicationTemplateRepository.php
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ GroupStatisticsRepository.php
‚îÇ       ‚îî‚îÄ‚îÄ Models/
‚îÇ           ‚îú‚îÄ‚îÄ ContentGroup.php
‚îÇ           ‚îú‚îÄ‚îÄ PublicationTemplate.php
‚îÇ           ‚îî‚îÄ‚îÄ SmartSchedule.php
‚îú‚îÄ‚îÄ Services/
‚îÇ   ‚îî‚îÄ‚îÄ PublicationLogService.php (–Ω–æ–≤—ã–π)
‚îî‚îÄ‚îÄ Workers/
    ‚îî‚îÄ‚îÄ smart_publish_worker.php (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)
```

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

1. **content_groups** - –ì—Ä—É–ø–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
2. **content_group_files** - –°–≤—è–∑—å –≥—Ä—É–ø–ø –∏ –≤–∏–¥–µ–æ (many-to-many)
3. **publication_templates** - –®–∞–±–ª–æ–Ω—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
4. **group_statistics** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥—Ä—É–ø–ø–∞–º
5. **publication_logs** - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ª–æ–≥–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–π

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ schedules

–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è:
- `content_group_id` - —Å–≤—è–∑—å —Å –≥—Ä—É–ø–ø–æ–π
- `template_id` - —à–∞–±–ª–æ–Ω –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
- `schedule_type` - —Ç–∏–ø —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π
- –õ–∏–º–∏—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

### –¢–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

1. **VideoService** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ –≤ –≥—Ä—É–ø–ø—ã
2. **ScheduleService** - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥—Ä—É–ø–ø–∞–º–∏
3. **YoutubeService/TelegramService** - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤
4. **publish_worker** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥—Ä—É–ø–ø–∞–º–∏

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –°—Ç–∞—Ä—ã–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –≤–∏–¥–µ–æ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è
- –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã

## üìä –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã Smart Queue

1. –ù–∞—Ö–æ–¥–∏—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –≥–æ—Ç–æ–≤—ã–µ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:
   - –ï—Å–ª–∏ –µ—Å—Ç—å `content_group_id`:
     - –ë–µ—Ä–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ –Ω–µ–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–µ –≤–∏–¥–µ–æ –∏–∑ –≥—Ä—É–ø–ø—ã
     - –ü—Ä–∏–º–µ–Ω—è–µ—Ç —à–∞–±–ª–æ–Ω (–µ—Å–ª–∏ –µ—Å—Ç—å)
     - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏–º–∏—Ç—ã
     - –ü—É–±–ª–∏–∫—É–µ—Ç
   - –ï—Å–ª–∏ –Ω–µ—Ç –≥—Ä—É–ø–ø—ã (—Å—Ç–∞—Ä—ã–π —Ä–µ–∂–∏–º):
     - –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

## üé® –°–∏—Å—Ç–µ–º–∞ —à–∞–±–ª–æ–Ω–æ–≤

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —à–∞–±–ª–æ–Ω–∞—Ö

- `{title}` - –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ
- `{group_name}` - –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
- `{index}` - –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä –≤ –≥—Ä—É–ø–ø–µ
- `{date}` - —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞
- `{random_emoji}` - —Å–ª—É—á–∞–π–Ω—ã–π emoji –∏–∑ —Å–ø–∏—Å–∫–∞
- `{platform}` - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä—ã —à–∞–±–ª–æ–Ω–æ–≤

**–û–ø–∏—Å–∞–Ω–∏–µ:**
```
üé¨ {title}
üìÅ –ì—Ä—É–ø–ø–∞: {group_name}
#{group_name} #{platform} #{date}
{random_emoji} {random_emoji}
```

**–¢–µ–≥–∏:**
```
{group_name}, {platform}, –≤–∏–¥–µ–æ, {date}
```

## ‚öôÔ∏è –¢–∏–ø—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π

### 1. Fixed (–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ)
- –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è
- –ü—Ä–∏–º–µ—Ä: –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 12:00

### 2. Interval (–ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–µ)
- –ö–∞–∂–¥—ã–µ N –º–∏–Ω—É—Ç/—á–∞—Å–æ–≤
- –ü—Ä–∏–º–µ—Ä: –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç

### 3. Batch (–ü–∞–∫–µ—Ç–Ω–æ–µ)
- X –≤–∏–¥–µ–æ –∑–∞ Y —á–∞—Å–æ–≤
- –ü—Ä–∏–º–µ—Ä: 5 –≤–∏–¥–µ–æ –∑–∞ 2 —á–∞—Å–∞

### 4. Random (–°–ª—É—á–∞–π–Ω–æ–µ)
- –†–∞–Ω–¥–æ–º–Ω–æ–µ –≤—Ä–µ–º—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–∫–Ω–∞
- –ü—Ä–∏–º–µ—Ä: –º–µ–∂–¥—É 10:00 –∏ 18:00

### 5. Wave (–í–æ–ª–Ω–æ–≤–æ–µ)
- –ê–∫—Ç–∏–≤–Ω—ã–µ –∏ —Ç–∏—Ö–∏–µ –ø–µ—Ä–∏–æ–¥—ã
- –ü—Ä–∏–º–µ—Ä: –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å 9-12 –∏ 15-18, —Ç–∏—à–∏–Ω–∞ 12-15

## üîç Smart Queue –∞–ª–≥–æ—Ä–∏—Ç–º

```php
1. –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –≥–æ—Ç–æ–≤—ã–µ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:
   a. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã (–¥–Ω–µ–≤–Ω–æ–π, —á–∞—Å–æ–≤–æ–π)
   b. –ï—Å–ª–∏ –µ—Å—Ç—å –≥—Ä—É–ø–ø–∞:
      - –ù–∞–π—Ç–∏ —Å–ª–µ–¥—É—é—â–µ–µ –Ω–µ–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–µ –≤–∏–¥–µ–æ
      - –ü—Ä–∏–º–µ–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω
      - –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å
   c. –ï—Å–ª–∏ –Ω–µ—Ç –≥—Ä—É–ø–ø—ã (—Å—Ç–∞—Ä—ã–π —Ä–µ–∂–∏–º):
      - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å video_id –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã
4. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è
```

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ –≥—Ä—É–ø–ø–∞–º
- –í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤
- –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ
- –í –æ—á–µ—Ä–µ–¥–∏
- –û—à–∏–±–∫–∏
- –ü–æ –¥–Ω—è–º/–Ω–µ–¥–µ–ª—è–º

### –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º
- –£—Å–ø–µ—à–Ω—ã–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- –û—à–∏–±–∫–∏
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –≥—Ä—É–ø–ø–∞–º
- –í–∞–ª–∏–¥–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤
- –ó–∞—â–∏—Ç–∞ –æ—Ç SQL injection
- Rate limiting –¥–ª—è API

## üöÄ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –ë–∞—Ç—á–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
- –û—á–µ—Ä–µ–¥–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö –≥—Ä—É–ø–ø

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
